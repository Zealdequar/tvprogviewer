function fillProgrammeViewerByDay(n,t){incChannelByDay==1?($("#TVProgrammeViewerGrid").jqGrid({url:"/TvChannel/GetUserProgrammeOfDay?progTypeID="+$("#userTypeProg option:selected").val().split(";")[1]+"&cid="+t+"&tsDate="+n+"&category="+$("#userCategory option:selected").val().split(";")[1],datatype:"json",type:"GET",colNames:["Рейтинг","Название рейтинга","Жанр","Название жанра","Анонс","От","До","Передача",""],colModel:[{key:!1,name:"RatingContent",index:"RatingContent",sortable:!0,width:40,align:"center",formatter:imgRating,cellattr:function(n,t,i){return'title="'+i.RatingName+'"'}},{key:!1,name:"RatingName",index:"RatingName",sortable:!0,widht:"0",align:"center"},{key:!1,name:"GenreContent",index:"GenreContent",sortable:!0,width:40,align:"center",formatter:imgGenre,cellattr:function(n,t,i){return'title="'+i.GenreName+'"'}},{key:!1,name:"GenreName",index:"GenreName",sortable:!0,width:"0",align:"center"},{key:!1,name:"AnonsContent",index:"AnonsContent",sortable:!0,width:40,align:"center",formatter:imgAnons},{key:!1,name:"Start",index:"Start",sortable:!0,align:"center",width:80,sorttype:"datetime",formatter:"date",formatoptions:{srcformat:"ISO8601Long",newformat:"H:i"}},{key:!1,name:"Stop",index:"Stop",sortable:!0,align:"center",width:80,sorttype:"datetime",formatter:"date",formatoptions:{srcformat:"ISO8601Long",newformat:"H:i"}},{key:!1,name:"TelecastTitle",index:"TelecastTitle",width:850,sortable:!0},{key:!1,name:"TelecastDescr",index:"TelecastDescr",hidden:!0}],rowNum:20,beforeSelectRow:function(){return $("#TVProgrammeViewerGrid").jqGrid("resetSelection"),!0},loadComplete:function(){$(this).find("tr.jqgrow:odd").addClass("alt-green-background");$("tr.jqgrow td input","#TVProgrammeViewerGrid").on("click",function(){$(this).closest("tr").find("td:nth-child(6)").find("img").length?($("#mainToolProgrammeViewer").show(50),$("#anonsToolProgrammeViewer").show(50),$("#anonsDescrProgrammeViewer").html($(this).closest("tr").find("td:nth-child(10)").attr("title"))):($("#mainToolProgrammeViewer").hide(50),$("#anonsToolProgrammeViewer").hide(50),$("#anonsDescrProgrammeViewer").hide(150))})},rowList:[10,20,30,40,50,100,500,1e3],height:"auto",width:null,autowidth:!0,shrinkToFit:!0,viewrecords:!0,caption:"Программа передач по телеканалу на определённый день",shrinkToFit:!0,emptyrecords:"Программа передач не обнаружена",pager:"#TVProgrammeViewerPager",loadonce:!1,multiselect:!0,gridview:!0,rowattr:function(n){var i=new Date(Date.parse(n.Start)),r=new Date(Date.parse(n.Stop)),t=new Date;return r<t?{"class":"grayColor"}:i<=t&&r>t?{"class":"blackColor"}:i>t?{"class":"greenColor"}:void 0}}).navGrid("#TVProgrammeViewerPager",{edit:!1,add:!1,del:!1,search:!1,searchtext:"Поиск передачи",refresh:!0},{zIndex:100,caption:"Поиск передачи",sopt:["cn"]}),$("#TVProgrammeViewerGrid").jqGrid("hideCol","GenreName"),$("#TVProgrammeViewerGrid").jqGrid("hideCol","RatingName"),jQuery("#TVProgrammeViewerGrid").jqGrid("setGridWidth",$("#mwpv").width()),jQuery("#TVProgrammeViewerGrid").jqGrid("setGridHeight",548)):($("#TVProgrammeViewerGrid").setGridParam({url:"/TVChannel/GetUserProgrammeOfDay?progTypeID="+$("#userTypeProg option:selected").val().split(";")[1]+"&cid="+t+"&tsDate="+n+"&category="+$("#userCategory option:selected").val().split(";")[1]}),$("#TVProgrammeViewerGrid").trigger("reloadGrid"));incChannelByDay++;jQuery("#TVProgrammeViewerGrid").jqGrid("setGridWidth",$("#mwpv").width());jQuery("#TVProgrammeViewerGrid").jqGrid("setGridHeight",548)}var idx,pairKeys,incChannelByDay=1;let chansArr=[];